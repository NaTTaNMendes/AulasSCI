unit CadastroRestaurante;

interface

uses
  Winapi.Windows, Winapi.Messages, System.SysUtils, System.Variants, System.Classes, Vcl.Graphics,
  Vcl.Controls, Vcl.Forms, Vcl.Dialogs, poo, Vcl.StdCtrls;

type
  TEmpresa = class
    private
      wCodigo : Integer;
      wCNPJ : String;
      wDono : String;
      wNome : String;
      wEndereco : String;
      wReceitaDiaria : Currency;
  end;

type
  TRestaurante = class(TEmpresa)
    private
      wQuantidadeFuncionario : Integer;
      wPrincipalPrato : String;
  end;

type
  TfrCadastroRestaurante = class(TfrCadastro)
    lbQuantidadeFuncionario: TLabel;
    edQuantidadeFuncionario: TEdit;
    lbPrincipalPrato: TLabel;
    edPrincipalPrato: TEdit;
    procedure btCadastrarClick(Sender: TObject);
  private
    { Private declarations }
    wRestaurante : TRestaurante;
    function fVerificarCNPJ(prEntrada : String) : Boolean;
    function fCalcularCNPJ(prEntrada : String) : Integer;
    procedure pLimparRestaurante();
    procedure pLimparTela();
  public
    { Public declarations }
    wVariavel : String;
  end;

var
  frCadastroRestaurante: TfrCadastroRestaurante;

implementation

{$R *.dfm}

procedure TfrCadastroRestaurante.btCadastrarClick(Sender: TObject);
var
  wRestauranteEntrada : TRestaurante;
begin
  inherited;
  wRestauranteEntrada.wCodigo := StrToInt(edCodigo.Text);
  wRestauranteEntrada.wNome := edNome.text;
  wRestauranteEntrada.wCNPJ := edCNPJ.Text;
  wRestauranteEntrada.wDono := edDono.text;
  wRestauranteEntrada.wEndereco := edEndereco.text;
  wRestauranteEntrada.wReceitaDiaria := StrToCurr(edReceita.Text);
  wRestauranteEntrada.wQuantidadeFuncionario := StrToInt(edQuantidadeFuncionario.text);
  wRestauranteEntrada.wPrincipalPrato := edPrincipalPrato.text;
end;

function TfrCadastroRestaurante.fCalcularCNPJ(prEntrada: String): Integer;
var
  wIncrementador, wSoma, wCount, wNumeroTemporario, wResto : Integer;
begin
  wIncrementador := 2;
  wSoma := 0;
  for wCount := Length(prEntrada) downto 1 do
    begin
      if (wIncrementador = 10) then
         wIncrementador := 2;
      wNumeroTemporario := StrToInt(prEntrada[wCount]) * wIncrementador;
      wSoma := wSoma + wNumeroTemporario;
      wIncrementador := wIncrementador + 1;
    end;
  wResto := wSoma mod 11;
  if (wResto < 2) then
     Result := 0
  else
     Result := 11 - wResto;
end;

function TfrCadastroRestaurante.fVerificarCNPJ(prEntrada: String): Boolean;
begin

end;

procedure TfrCadastroRestaurante.pLimparRestaurante;
begin

end;

procedure TfrCadastroRestaurante.pLimparTela;
begin

end;

end.
